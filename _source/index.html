---
---
<!DOCTYPE html>
<html lang="en">
<head>
    {% assign data_title = "A &ldquo;Frightful Number&rdquo; &ndash; Mapping Daniel Defoe&rsquo;s A Journal of the Plague Year" %}
    <title>{{ data_title }}</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link type="text/css" media="screen" rel="stylesheet" href="ui/css/styles.css" />
    <script type="text/javascript" src="https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.css" media="all" />
    <link href='http://fonts.googleapis.com/css?family=IM+Fell+DW+Pica|IM+Fell+DW+Pica+SC' rel='stylesheet' type='text/css'><!-- There's an italic font as well -->

    <link type="text/css" media="screen" rel="stylesheet" href="ui/css/responsive-tables.css" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript" src="ui/js/responsive-tables.js"></script>

    <style type="text/css">
        /* Dynamically set up CSS styles for event data in the timeline based on corresponding parishes */
        /* This is Jekyll-based, so it lives in the HTML file. */
    {% for parish in site.data.parishes %}
        .itinerary tr.parish-{{ parish.id }} td { background: {{ parish.background-color }}; }
    {% endfor %}
    </style>
    <!--
         Here's where we set things up!
    -->
    {% assign events = site.data.a-frightful-number-plague | group_by:"date_year" %}
    <script type="text/javascript">
        // Set datajson file that matches the source data specified for {{ events }}
        var datajson = 'a-frightful-number-plague.json';

        // Set map values for this page that will be used in script.js
        var attribution_historic = 'Map image from <a href="#">Hofstra DRC</a> via <a href=#">Source</a>';
        var attribution_mapbox = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, Imagery Â© <a href="http://mapbox.com">Mapbox</a>';

        var tile_layer_historic = 'http://mapwarper.net/maps/tile/8663/{z}/{x}/{y}.png';
        var tile_layer_mapbox = 'https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png';

        var mapbox_id = 'clearbold.l4gjpd88';

        var historic_toggle_label = 'London 1720';
        var modern_toggle_label = 'London 2015';
    </script>
</head>

<body>
    <div class="logo-header-wrapper"><div class="logo-header">
        <img src="ui/img/drc.logo.horizontal.png" width="247" height="42" alt="Digital Research Center at Hofstra" />
    </div></div>
    <div class="wrapper">
        <h1>{{ data_title }}</h1>

        <div class="nav">
            {% for link in site.data.nav %}
            <a href="{{ link.link-href }}">{{ link.link-name }}
            {% endfor %}
        </div>

        <div id="map-container"><noscript>
            <p>An interactive map resides here.</p>
        </noscript></div>

        <div id="stepper">
            <a href="#" id="step-prev">&laquo;</a>
            <h2></h2>
            <p></p>
            <noscript>
                <p>An interactive timeline tool resides here.</p>
            </noscript>
            <a href="#" id="step-next">&raquo;</a>
        </div>
        <div class="itinerary">
            <!--
                 Stick to rendering Itinerary data in HTML with Jekyll despite other JS dependencies
                 so that we have a page loaded with content if JS is an issue.
            -->
            <!--
                 Note that the HTML structure here is dependent on the structure of the data.
                 Some data has different fields/schema.
            -->
            <h2>The Data</h2>
            {% for year in events %}
            <table border="0" cellpadding="0" cellspacing="0" class="year">
                <tr>
                    <th><h3>{{ year.name }}</h3></th>
                </tr>
            </table>
            <table border="0" cellpadding="0" cellspacing="0" width="100%" class="responsive data">
                <tr>
                    <th width="8%">Date</th>
                    <th width="12%">Parish</th>
                    <th width="8%">Buried Plague</th>
                    <th width="6%">Buried Parish</th>
                    <th width="8%">Buried Plague Total</th>
                    <th width="6%">Buried Total</th>
                    <th width="12%">Location</th>
                    <th width="40%">Notes</th>
                </tr>

                {% for event in year.items %}
                <tr class="{% cycle 'odd', 'even' %} parish-{{ event.parish_id }}">
                    <td id="event-{{ event.sequence }}">{{ event.date_descriptive }}</td>
                    <td>{% if event.parish_id != null %}<a href="#" class="parish-name" data-parish-id="{{ event.parish_id }}">{% endif %}{{ event.parish }}{% if event.parish_id != null %}</a>{% endif %}</td>
                    <td>{{ event.buried_plague }}</td>
                    <td>{{ event.buried_parish_total }}</td>
                    <td>{{ event.buried_plague_total }}</td>
                    <td>{{ event.buried_total }}</td>
                    <td>{{ event.location_descriptive }}</td>
                    <td>{{ event.notes }}</td>
                </tr>
                {% endfor %}
            </table>
            {% endfor %}
        </div>
    </div>
    <script type="text/javascript" src="ui/js/script.js"></script>
</body>
</html>
