---
page_nav: 'map-melville-rome'
---
<!DOCTYPE html>
<html lang="en">
<head>
{% include head.html %}
<!--
     Here's where we set things up!
-->
{% assign events = site.data.MelvilleInRome2 | group_by:"date_year" %}
<script type="text/javascript">
    // Set datajson file that matches the source data specified for {{ events }}
    //var datajson = 'a-frightful-number-plague.json';

    // Set map values for this page that will be used in script.js
    var attribution_historic = 'Map image from <a href="#">Hofstra DRC</a> via <a href=#">Source</a>';
    var attribution_mapbox = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, Imagery Â© <a href="http://mapbox.com">Mapbox</a>';

    var tile_layer_historic = 'http://mapwarper.net/maps/tile/9175/{z}/{x}/{y}.png';
    var tile_layer_mapbox = 'https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png';

    var mapbox_id = 'clearbold.l4gjpd88';

    // Need to find a way to do this; These are on the left side of object assignment
    // [variable] worked in Firefox, but halted the JS in Chrome
    var historic_toggle_label = 'Rome 1748';
    var modern_toggle_label = 'Rome 2015';
    // So this isn't actually being used. These are set in the scripts file.

    var map_center = [41.8922136, 12.4810397];
    var map_zoom = 16;
</script>
</head>

<body class="melville-rome">
{% include header-melville-rome.html %}
<div id="map-container"><noscript>
    <p>An interactive map resides here.</p>
</noscript></div>
<div class="wrapper">
    <div class="itinerary">
        <!--
             Stick to rendering Itinerary data in HTML with Jekyll despite other JS dependencies
             so that we have a page loaded with content if JS is an issue.
        -->
        <!--
             Note that the HTML structure here is dependent on the structure of the data.
             Some data has different fields/schema.
        -->
        <h2>The Data</h2>
        <!-- <div class="project-notes">
        </div> -->

        {% assign i = 0 %}
        {% for year in events %}
        <table border="0" cellpadding="0" cellspacing="0" class="year">
            <tr>
                <th><h3>{{ year.name }}</h3></th>
            </tr>
        </table>
        <div class="data-table"><table border="0" cellpadding="0" cellspacing="0" width="100%" class="responsive data">
            <thead><tr>
                <th>Date</th>
                <th>Itinerary Day</th>
                <th>Location</th>
                <th>Lat, Long</th>
                <th>Source</th>
                <th>Route</th>
                <th>Waypoint</th>
                <th>Sight 1</th>
                <th>Sight 2</th>
                <th>Sight 3</th>
                <th>Sight 4</th>
                <th>HM Comment</th>
                <th>Editorial Note</th>
            </tr></thead>

            {% for event in year.items %}
            <tr class="{% cycle 'odd', 'even' %} parish-{{ event.parish_id }}">
                <td id="event-{{ i }}">{% if event.weekday != null %}{{ event.weekday }}, {% endif %}{{ event.date_descriptive }}</td>
                <td>{{ event.itinerary_day }}</td>
                <td>{{ event.location_descriptive }}</td>
                <td>{% if event.location_latitude != null %}{{ event.location_latitude }}{% else %}##.#####{% endif %}, {% if event.location_longitude != null %}{{ event.location_longitude }}{% else %}##.#####{% endif %}</td>
                <td>{% if event.source_page != null %}p. {{ event.source_page }}, {% endif %}{{ event.source }}</td>
                <td>{{ event.route }}</td>
                <td>{{ event.waypoint }}</td>
                <td>{{ event.HM_Sight1 }}</td>
                <td>{{ event.HM_Sight2 }}</td>
                <td>{{ event.HM_Sight3 }}</td>
                <td>{{ event.HM_Sight4 }}</td>
                <td>{{ event.HM_Comment }}</td>
                <td>{{ event.Editorial_Note }}</td>
            </tr>
            {% assign i = i| plus:'1' %}
            {% endfor %}
        </table></div>
        {% endfor %}
        <!-- A bit of redundant entry is required to make a pure CSS solution work... -->
        <style type="text/css">
            @media screen and (max-width: 940px) {
                td:nth-of-type(1):before { content: "Date"; }
                td:nth-of-type(2):before { content: "Itinerary Da"; }
                td:nth-of-type(3):before { content: "Location"; }
                td:nth-of-type(4):before { content: "Lat, Long"; }
                td:nth-of-type(5):before { content: "Source"; }
                td:nth-of-type(6):before { content: "Route"; }
                td:nth-of-type(7):before { content: "Waypoint"; }
                td:nth-of-type(8):before { content: "Sight 1"; }
                td:nth-of-type(9):before { content: "Sight 2"; }
                td:nth-of-type(10):before { content: "Sight 3"; }
                td:nth-of-type(11):before { content: "Sight 4"; }
                td:nth-of-type(11):before { content: "HM Comment"; }
                td:nth-of-type(12):before { content: "Editorial Note"; }
            }
        </style>
    </div>
</div>

{% include footer-melville-rome.html %}
</body>
</html>
